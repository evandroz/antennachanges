<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: C:/Users/tdroz/Dropbox (Personal)/tdroz/Documents/GitHub/antennachanges/Matlab/Matlab/quat/quaterniondemo.m Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('quaterniondemo_8m_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">quaterniondemo.m</div>  </div>
</div><!--header-->
<div class="contents">
<a href="quaterniondemo_8m.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a634dc19fe9786c114f34462f4ad524fa">    1</a></span>&#160;<span class="keyword">function</span> <a class="code" href="quaterniondemo_8m.html#a634dc19fe9786c114f34462f4ad524fa">quaterniondemo</a>( <a class="code" href="data__visualization_8m.html#a0d64e5f8b32a324fa37e000d6284dd55">time</a>, <a class="code" href="quaterniondemo_8m.html#a1d83616d443a184b09d0eb708c44aed5">sap</a>, <a class="code" href="quaterniondemo_8m.html#a6ca93d6aa561460b8a250731b00a3203">DCMin</a>, interval )</div>
<div class="line"><a name="l00002"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a6ca93d6aa561460b8a250731b00a3203">    2</a></span>&#160;% <span class="keyword">function</span> <a class="code" href="quaterniondemo_8m.html#a634dc19fe9786c114f34462f4ad524fa">quaterniondemo</a>( <a class="code" href="data__visualization_8m.html#a0d64e5f8b32a324fa37e000d6284dd55">time</a>, <a class="code" href="quaterniondemo_8m.html#a1d83616d443a184b09d0eb708c44aed5">sap</a>, <a class="code" href="quaterniondemo_8m.html#a6ca93d6aa561460b8a250731b00a3203">DCMin</a>, interval )</div>
<div class="line"><a name="l00003"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a5aa39588d65aff5cf8c7488e655a3eb5">    3</a></span>&#160;% <a class="code" href="quaternion_8m.html#a39dc0e89db6b09e2fd5f48814cb285ec">quaternion</a> <a class="code" href="quaterniondemo_8m.html#a5aa39588d65aff5cf8c7488e655a3eb5">demo</a>, compare numerical and analytical rotational motion</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;% solutions</div>
<div class="line"><a name="l00005"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#ab61b31944f43c46f56148b848c9e6427">    5</a></span>&#160;% <a class="code" href="quaterniondemo_8m.html#ab61b31944f43c46f56148b848c9e6427">Inputs</a>:</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;%  <a class="code" href="data__visualization_8m.html#a0d64e5f8b32a324fa37e000d6284dd55">time</a>(<a class="code" href="quaterniondemo_8m.html#a6ffb6527eb0b23a06da7927c0d4a6bdd">nt</a>)     <a class="code" href="data__visualization_8m.html#a0d64e5f8b32a324fa37e000d6284dd55">time</a> series <a class="code" href="quaternion_8m.html#a5c8f1302c67bd5e47f0292d4f508af9d">array</a> (<a class="code" href="quaterniondemo2_8m.html#a8e26193a61ad56de094f9e2ffff000ee">s</a>)</div>
<div class="line"><a name="l00007"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a38bb4600f75c7c4e6f38de034343deef">    7</a></span>&#160;%  <a class="code" href="quaterniondemo_8m.html#a1d83616d443a184b09d0eb708c44aed5">sap</a>(3)       [spin rate (Hz), precession cone half angle (rad),</div>
<div class="line"><a name="l00008"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a6a9f8bad932b7e5498c4c75b6fc8823b">    8</a></span>&#160;%               precession rate (Hz)]</div>
<div class="line"><a name="l00009"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a6c67029f06ea3f931201b8e8c63ffadc">    9</a></span>&#160;%  <a class="code" href="quaterniondemo_8m.html#a6ca93d6aa561460b8a250731b00a3203">DCMin</a>(3,3) [OPTIONAL] initial Direction Cosine <a class="code" href="quaterniondemo_8m.html#aa9c769926e9c9151630a9cfc6003caf6">Matrix</a>; <span class="keywordflow">default</span> = eye(3)</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;%  interval   [OPTIONAL] <a class="code" href="data__visualization_8m.html#ac16124024fb4d9a073240af2d6b11271">plot</a> update <a class="code" href="quaterniondemo_8m.html#a32c430299c9c0c82c43a9c3b2006df25">pause</a> interval (<a class="code" href="quaterniondemo2_8m.html#a8e26193a61ad56de094f9e2ffff000ee">s</a>); <span class="keywordflow">default</span> = 0.1</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;% Outputs:</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;%  2 figures ploting <a class="code" href="quaternion_8m.html#acf39907891ddfd2d369d69003aa1c96c">axis</a> orientations <span class="keywordflow">for</span> the <a class="code" href="data__visualization_8m.html#a0d64e5f8b32a324fa37e000d6284dd55">time</a> series from matlab<span class="stringliteral">&#39;s</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="stringliteral">%  ode45 (Ordinary Differential Equation) numerical solution using the</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="stringliteral">%  quaternion class and PropagateEulerEq method, and the analytical</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="stringliteral">%  solution for axisymmetric objects computed in the spinprecess function.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a771c82ce96e37492b0048abeebe65466">   16</a></span>&#160;<span class="stringliteral">% Author:</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="stringliteral">%  Mark Tincknell, 4 January 2011</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#af9e3202cee2f34fb195ef8bbbc220486">   19</a></span>&#160;<span class="stringliteral">if (nargin &lt; 3) || isempty(DCMin)</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="stringliteral">    DCMin   = eye(3);</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="stringliteral">if (nargin &lt; 4) || isempty(interval)</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="stringliteral">    interval    = 0.1;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a38424f005dc3e2f0828e2935625c4e8f">   25</a></span>&#160;<span class="stringliteral">ws      = 2 * pi * sap(1);</span></div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#aebf487f5d315cb61f0bd86455edff1fd">   26</a></span>&#160;<span class="stringliteral">theta   = sap(2);</span></div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#aecb50d13a57235fddac73957cf0dccdc">   27</a></span>&#160;<span class="stringliteral">wp      = 2 * pi * sap(3);</span></div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#ae3c0019e39b01275685e5c9211f49e4e">   28</a></span>&#160;<span class="stringliteral">costh   = cos( theta );</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="stringliteral">if (abs( costh ) &lt; eps) || (ws == 0)</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="stringliteral">    w0  = [ 0; -wp; 0 ];</span></div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a66cc12e3c6d68de3fef6de89cf033f67">   31</a></span>&#160;<span class="stringliteral">    I   = [ 1; 1; 1 ];</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="stringliteral">else</span></div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a23c1622d0f5af8a8a8cd90dd1898f3cb">   33</a></span>&#160;<span class="stringliteral">    mu  = 1 + ws /( wp * costh );</span></div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#ae498f9e1d11508025cb7305360bfcf20">   34</a></span>&#160;<span class="stringliteral">    w0  = [ ws /( 1 - 1/mu ); -ws * tan( theta )/( mu - 1 ); 0 ];</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="stringliteral">    I   = [ 1; mu; mu ];</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a122b17cb74c4a8ef784a891e94bc23b8">   37</a></span>&#160;<span class="stringliteral">q0      = quaternion.angleaxis( theta, [0;0;1] );</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="stringliteral">[q1 w1] = PropagateEulerEq( q0, w0, I, time );</span></div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a7989bd4ae7ff762f92505b171b309f16">   39</a></span>&#160;<span class="stringliteral">q1      = quaternion.rotationmatrix( DCMin ) .* q1;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#aed9816b49736416e77f9590457c7bfcf">   40</a></span>&#160;<span class="stringliteral">PlotRotation( q1, interval );</span></div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a0122de00f9db51b46a1c07d8c86c9e5a">   41</a></span>&#160;<span class="stringliteral">title( &#39;</span><a class="code" href="quaternion_8m.html#a39dc0e89db6b09e2fd5f48814cb285ec">quaternion</a><span class="stringliteral">&#39; );</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a5bd451eae04d0c4a286638438e115a12">   43</a></span>&#160;<span class="stringliteral">DCM     = spinprecess( time, sap, DCMin );</span></div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a89762092435adc69c1110fd0ddc4b3e9">   44</a></span>&#160;<span class="stringliteral">plotRotation( DCM, interval );</span></div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#ae84a5ea6107127e130048507a34facad">   45</a></span>&#160;<span class="stringliteral">title( &#39;</span>spinprecess<span class="stringliteral">&#39; );</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="stringliteral">end % quaterniondemo</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="stringliteral">function plotRotation( DCM, interval )</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="stringliteral">% function plotRotation( DCM, interval )</span></div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a63f26d1ba4b40e4ca6b2e9a44a733023">   51</a></span>&#160;<span class="stringliteral">% Plot rotation axes for a series of Direction Cosine Matrices, adapted</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="stringliteral">% from the quaternion PlotRotation method</span></div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#ae8e1fa3d606f5d21402e70f45b898d59">   53</a></span>&#160;<span class="stringliteral">if ~exist( &#39;</span>interval<span class="stringliteral">&#39;, &#39;</span>var<span class="stringliteral">&#39; )</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="stringliteral">    interval    = 0.1;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a5b18fa8417ed461f982c3354fb6a4ef6">   56</a></span>&#160;<span class="stringliteral">nel = size( DCM, 3 );</span></div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a4e22223cce6cd87a8eb1b271ab21c639">   57</a></span>&#160;<span class="stringliteral">or  = zeros(1,3);</span></div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a8fa675eb2fcec5b95d9d21c670da7f30">   58</a></span>&#160;<span class="stringliteral">ax  = eye(3);</span></div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a7f030b42c6a0d1933e66ddd5d95735a1">   59</a></span>&#160;<span class="stringliteral">alx = zeros( nel, 3, 3 );</span></div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a391e34f2de441d79152a7b3d6e4c9c86">   60</a></span>&#160;<span class="stringliteral">figure;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a4e263293c4235ceb5bc29427040cf530">   61</a></span>&#160;<span class="stringliteral">for iel = 1 : nel</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="stringliteral">%     plot3( [ or; ax(:,1).&#39;</span> ], [ or ; ax(:,2).&#39; ], [ or; ax(:,3).&#39; ], <span class="charliteral">&#39;:&#39;</span> );</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#ad809abcf4d5f5036e678789663f40626">   63</a></span>&#160;    <a class="code" href="quaterniondemo_8m.html#ad809abcf4d5f5036e678789663f40626">plot3</a>( [ <a class="code" href="quaterniondemo_8m.html#a4e22223cce6cd87a8eb1b271ab21c639">or</a>; <a class="code" href="quaterniondemo_8m.html#a8fa675eb2fcec5b95d9d21c670da7f30">ax</a>(1,:) ], [ or ; ax(2,:) ], [ or; ax(3,:) ], <span class="charliteral">&#39;:&#39;</span> );</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    hold on</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a73fb6418d29a71ed2ee0877198dff236">   65</a></span>&#160;    <span class="keyword">set</span>( gca, <span class="stringliteral">&#39;Xlim&#39;</span>, [-1 1], <span class="stringliteral">&#39;Ylim&#39;</span>, [-1 1], <span class="stringliteral">&#39;Zlim&#39;</span>, [-1 1] );</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a660496f631fd03a1152ae925658150d6">   66</a></span>&#160;    <a class="code" href="quaterniondemo_8m.html#a660496f631fd03a1152ae925658150d6">xlabel</a>( <span class="charliteral">&#39;x&#39;</span> );</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#aafa403f68d9af275a0c36d210019f8b8">   67</a></span>&#160;    <a class="code" href="quaterniondemo_8m.html#aafa403f68d9af275a0c36d210019f8b8">ylabel</a>( <span class="charliteral">&#39;y&#39;</span> );</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a36cd1b01a7925d97ee1dcab31b640f94">   68</a></span>&#160;    <a class="code" href="quaterniondemo_8m.html#a36cd1b01a7925d97ee1dcab31b640f94">zlabel</a>( <span class="charliteral">&#39;z&#39;</span> );</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    grid on</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#aec1ab2ac634fc2a27c2014d1d1dd61d6">   70</a></span>&#160;    <a class="code" href="quaterniondemo_8m.html#aec1ab2ac634fc2a27c2014d1d1dd61d6">nax</a> = <a class="code" href="quaterniondemo_8m.html#a5bd451eae04d0c4a286638438e115a12">DCM</a>(:,:,<a class="code" href="quaterniondemo_8m.html#a4e263293c4235ceb5bc29427040cf530">iel</a>);</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a68d494aa5e0c9827fe965ca252f6b101">   71</a></span>&#160;    <a class="code" href="quaterniondemo_8m.html#a7f030b42c6a0d1933e66ddd5d95735a1">alx</a>(<a class="code" href="quaterniondemo_8m.html#a4e263293c4235ceb5bc29427040cf530">iel</a>,:,:)    = <a class="code" href="quaterniondemo_8m.html#aec1ab2ac634fc2a27c2014d1d1dd61d6">nax</a>; </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#aa62ec84033313c05af93df68012cfda3">   72</a></span>&#160;%     <a class="code" href="quaterniondemo_8m.html#ad809abcf4d5f5036e678789663f40626">plot3</a>( [ <a class="code" href="quaterniondemo_8m.html#a4e22223cce6cd87a8eb1b271ab21c639">or</a>; <a class="code" href="quaterniondemo_8m.html#aec1ab2ac634fc2a27c2014d1d1dd61d6">nax</a>(:,1).<span class="stringliteral">&#39; ], [ or ; nax(:,2).&#39;</span> ], [ or; nax(:,3).&#39; ], <span class="charliteral">&#39;-&#39;</span>, <span class="stringliteral">&#39;LineWidth&#39;</span>, 2 );</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="quaterniondemo_8m.html#ad809abcf4d5f5036e678789663f40626">plot3</a>( [ <a class="code" href="quaterniondemo_8m.html#a4e22223cce6cd87a8eb1b271ab21c639">or</a>; <a class="code" href="quaterniondemo_8m.html#aec1ab2ac634fc2a27c2014d1d1dd61d6">nax</a>(1,:) ], [ or ; nax(2,:) ], [ or; nax(3,:) ], <span class="charliteral">&#39;-&#39;</span>, <span class="stringliteral">&#39;LineWidth&#39;</span>, 2 );</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#ac9bfdf79008419bed4bbf2cda616b895">   74</a></span>&#160;%     <a class="code" href="quaterniondemo_8m.html#ad809abcf4d5f5036e678789663f40626">plot3</a>( <a class="code" href="quaterniondemo_8m.html#a7f030b42c6a0d1933e66ddd5d95735a1">alx</a>(1:<a class="code" href="quaterniondemo_8m.html#a4e263293c4235ceb5bc29427040cf530">iel</a>,:,1), <a class="code" href="quaterniondemo_8m.html#a7f030b42c6a0d1933e66ddd5d95735a1">alx</a>(1:<a class="code" href="quaterniondemo_8m.html#a4e263293c4235ceb5bc29427040cf530">iel</a>,:,2), <a class="code" href="quaterniondemo_8m.html#a7f030b42c6a0d1933e66ddd5d95735a1">alx</a>(1:<a class="code" href="quaterniondemo_8m.html#a4e263293c4235ceb5bc29427040cf530">iel</a>,:,3), <span class="charliteral">&#39;*&#39;</span> );</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#ab1f3514abebc705a9bad864cdf85cc13">   75</a></span>&#160;    <a class="code" href="quaterniondemo_8m.html#ad809abcf4d5f5036e678789663f40626">plot3</a>( squeeze(<a class="code" href="quaterniondemo_8m.html#a7f030b42c6a0d1933e66ddd5d95735a1">alx</a>(1:<a class="code" href="quaterniondemo_8m.html#a4e263293c4235ceb5bc29427040cf530">iel</a>,1,:)), squeeze(<a class="code" href="quaterniondemo_8m.html#a7f030b42c6a0d1933e66ddd5d95735a1">alx</a>(1:<a class="code" href="quaterniondemo_8m.html#a4e263293c4235ceb5bc29427040cf530">iel</a>,2,:)), squeeze(<a class="code" href="quaterniondemo_8m.html#a7f030b42c6a0d1933e66ddd5d95735a1">alx</a>(1:<a class="code" href="quaterniondemo_8m.html#a4e263293c4235ceb5bc29427040cf530">iel</a>,3,:)), <span class="charliteral">&#39;*&#39;</span> );</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">if</span> interval</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a32c430299c9c0c82c43a9c3b2006df25">   77</a></span>&#160;        <a class="code" href="quaterniondemo_8m.html#a32c430299c9c0c82c43a9c3b2006df25">pause</a>( interval );</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="quaternion_8m.html#aa402a2cb92604beb8c28c8507cc06036">end</a></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    hold off</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<a class="code" href="quaternion_8m.html#aa402a2cb92604beb8c28c8507cc06036">end</a> % <span class="keywordflow">for</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<a class="code" href="quaternion_8m.html#aa402a2cb92604beb8c28c8507cc06036">end</a> % <a class="code" href="quaterniondemo_8m.html#a89762092435adc69c1110fd0ddc4b3e9">plotRotation</a></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#accabb16fd07c30a37048d65961131255">   83</a></span>&#160;<span class="keyword">function</span> [DCMout, Omega] = spinprecess( <a class="code" href="data__visualization_8m.html#a0d64e5f8b32a324fa37e000d6284dd55">time</a>, <a class="code" href="quaterniondemo_8m.html#a1d83616d443a184b09d0eb708c44aed5">sap</a>, <a class="code" href="quaterniondemo_8m.html#a6ca93d6aa561460b8a250731b00a3203">DCMin</a> )</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;% <span class="keyword">function</span> [DCMout, Omega] = spinprecess( <a class="code" href="data__visualization_8m.html#a0d64e5f8b32a324fa37e000d6284dd55">time</a>, <a class="code" href="quaterniondemo_8m.html#a1d83616d443a184b09d0eb708c44aed5">sap</a>, <a class="code" href="quaterniondemo_8m.html#a6ca93d6aa561460b8a250731b00a3203">DCMin</a> )</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;% Direction Cosine (Rotation) <a class="code" href="quaterniondemo_8m.html#a63f26d1ba4b40e4ca6b2e9a44a733023">Matrices</a> <span class="keywordflow">for</span> <a class="code" href="orbits_8m.html#a21e278f86d779491649057a8f8ef3d49">a</a> spinning, precessing</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;% axisymmetric <span class="keywordtype">object</span>.  <span class="stringliteral">&quot;x&quot;</span> ([1;0;0]) <a class="code" href="quaternion_8m.html#a7eeb1a631e93e2e6afc94022dbbcd66a">is</a> the principal body <a class="code" href="quaternion_8m.html#acf39907891ddfd2d369d69003aa1c96c">axis</a>.</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;% <a class="code" href="quaterniondemo_8m.html#ab61b31944f43c46f56148b848c9e6427">Inputs</a>:</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;%  <a class="code" href="data__visualization_8m.html#a0d64e5f8b32a324fa37e000d6284dd55">time</a>(<a class="code" href="quaterniondemo_8m.html#a6ffb6527eb0b23a06da7927c0d4a6bdd">nt</a>)     <a class="code" href="quaterniondemo2_8m.html#ac5645f9080f10b37b07e59345fc6d8d5">times</a> (<a class="code" href="quaterniondemo2_8m.html#a8e26193a61ad56de094f9e2ffff000ee">s</a>)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;%  <a class="code" href="quaterniondemo_8m.html#a1d83616d443a184b09d0eb708c44aed5">sap</a>(3)       [spin rate (Hz), prec. cone angle (rad), prec. rate (Hz)]</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;%  <a class="code" href="quaterniondemo_8m.html#a6ca93d6aa561460b8a250731b00a3203">DCMin</a>(3,3) [OPTIONAL] initial Direction Cosine <a class="code" href="quaterniondemo_8m.html#aa9c769926e9c9151630a9cfc6003caf6">Matrix</a>; <span class="keywordflow">default</span> = eye(3)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;% Outputs:</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;%  <a class="code" href="quaterniondemo_8m.html#a5aae46aef8d0821441e8f67df3386857">DCMout</a>(3,3,<a class="code" href="quaterniondemo_8m.html#a6ffb6527eb0b23a06da7927c0d4a6bdd">nt</a>)   Direction Cosine <a class="code" href="quaterniondemo_8m.html#a63f26d1ba4b40e4ca6b2e9a44a733023">Matrices</a></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;%  <a class="code" href="quaterniondemo_8m.html#af1815f046b4a8c1357b908ba93bb43dc">Omega</a>(3,3,<a class="code" href="quaterniondemo_8m.html#a6ffb6527eb0b23a06da7927c0d4a6bdd">nt</a>)    Rotational velocity matrices</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;% Application:</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;%  x_rot = <a class="code" href="quaterniondemo_8m.html#a5aae46aef8d0821441e8f67df3386857">DCMout</a> * <a class="code" href="earth__sphere_8m.html#a6cdf78e3a2d501c08576c021a01594f6">x</a> (where <a class="code" href="earth__sphere_8m.html#a6cdf78e3a2d501c08576c021a01594f6">x</a> <a class="code" href="quaternion_8m.html#a7eeb1a631e93e2e6afc94022dbbcd66a">is</a> <a class="code" href="orbits_8m.html#a21e278f86d779491649057a8f8ef3d49">a</a> 3 <a class="code" href="quaternion_8m.html#a511d4521bfdbaa2d14c30b314d6c49d6">element</a> column position vector)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;%  v_rot = <a class="code" href="quaterniondemo_8m.html#af1815f046b4a8c1357b908ba93bb43dc">Omega</a> * <a class="code" href="earth__sphere_8m.html#a6cdf78e3a2d501c08576c021a01594f6">x</a> + <a class="code" href="eomcode_8m.html#ac4055e3a20b6b3af3d10590ea446ef6c">v</a> (where <a class="code" href="eomcode_8m.html#ac4055e3a20b6b3af3d10590ea446ef6c">v</a> <a class="code" href="quaternion_8m.html#a7eeb1a631e93e2e6afc94022dbbcd66a">is</a> the translational velocity vector)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;% Calls:</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;%  rodrigues(<a class="code" href="quaternion_8m.html#acf39907891ddfd2d369d69003aa1c96c">axis</a>,<a class="code" href="quaterniondemo_8m.html#aebf487f5d315cb61f0bd86455edff1fd">theta</a>)    Rotation by theta about axis</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;% Author:</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a185f2f4be923b7fe060a456a65f8b131">  100</a></span>&#160;%  Mark Tincknell, MIT LL, 23 Nov. 2004</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;%                  revised 14 Dec. 2009</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;if (<a class="code" href="orbits_8m.html#a67b66d3bc79a909dd67b9efa6f3688cd">nargin</a> &lt; 3) || isempty(<a class="code" href="quaterniondemo_8m.html#a6ca93d6aa561460b8a250731b00a3203">DCMin</a>)</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    DCMin   = eye(3);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<a class="code" href="quaternion_8m.html#aa402a2cb92604beb8c28c8507cc06036">end</a></div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a6ffb6527eb0b23a06da7927c0d4a6bdd">  106</a></span>&#160;<a class="code" href="quaterniondemo_8m.html#a6ffb6527eb0b23a06da7927c0d4a6bdd">nt</a>      = <a class="code" href="quaternion_8m.html#ab6971d02bd34c9866ba696029ed87744">length</a>( <a class="code" href="data__visualization_8m.html#a0d64e5f8b32a324fa37e000d6284dd55">time</a> );</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a111cfd1411d6d7dc1338315274a0c25c">  107</a></span>&#160;<a class="code" href="quaterniondemo_8m.html#a111cfd1411d6d7dc1338315274a0c25c">Rang</a>    = rodrigues( [0;0;1], <a class="code" href="quaterniondemo_8m.html#a1d83616d443a184b09d0eb708c44aed5">sap</a>(2) ); % precession cone <a class="code" href="quaterniondemo_8m.html#a38bb4600f75c7c4e6f38de034343deef">angle</a></div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#af44e63a6428dab621e47f6a0f08e3ed0">  108</a></span>&#160;<a class="code" href="quaterniondemo_8m.html#af44e63a6428dab621e47f6a0f08e3ed0">omegas</a>  = 2 * <a class="code" href="quaternion_8m.html#a16d5d24f5b09a1991bd4e5f57bf11237">pi</a> * <a class="code" href="quaterniondemo_8m.html#a1d83616d443a184b09d0eb708c44aed5">sap</a>(1);              % spin</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#ae21e1438a14548d0d1b2d7383dc08b29">  109</a></span>&#160;<a class="code" href="quaterniondemo_8m.html#ae21e1438a14548d0d1b2d7383dc08b29">omegap</a>  = 2 * <a class="code" href="quaternion_8m.html#a16d5d24f5b09a1991bd4e5f57bf11237">pi</a> * <a class="code" href="quaterniondemo_8m.html#a1d83616d443a184b09d0eb708c44aed5">sap</a>(3);              % precession</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a28e93a13d0a70eae40e654e1c021d048">  110</a></span>&#160;<span class="keywordflow">for</span> <a class="code" href="quaterniondemo_8m.html#a28e93a13d0a70eae40e654e1c021d048">it</a> = <a class="code" href="quaterniondemo_8m.html#a6ffb6527eb0b23a06da7927c0d4a6bdd">nt</a> : -1 : 1</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    [Rs, dRs]   = rodrigues( [1;0;0], <a class="code" href="quaterniondemo_8m.html#af44e63a6428dab621e47f6a0f08e3ed0">omegas</a> * <a class="code" href="data__visualization_8m.html#a0d64e5f8b32a324fa37e000d6284dd55">time</a>(<a class="code" href="quaterniondemo_8m.html#a28e93a13d0a70eae40e654e1c021d048">it</a>) );</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    [Rp, dRp]   = rodrigues( [1;0;0], <a class="code" href="quaterniondemo_8m.html#ae21e1438a14548d0d1b2d7383dc08b29">omegap</a> * <a class="code" href="data__visualization_8m.html#a0d64e5f8b32a324fa37e000d6284dd55">time</a>(<a class="code" href="quaterniondemo_8m.html#a28e93a13d0a70eae40e654e1c021d048">it</a>) );</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a5aae46aef8d0821441e8f67df3386857">  113</a></span>&#160;    <a class="code" href="quaterniondemo_8m.html#a5aae46aef8d0821441e8f67df3386857">DCMout</a>(:,:,<a class="code" href="quaterniondemo_8m.html#a28e93a13d0a70eae40e654e1c021d048">it</a>)  = <a class="code" href="quaterniondemo_8m.html#a6ca93d6aa561460b8a250731b00a3203">DCMin</a> * Rp * <a class="code" href="quaterniondemo_8m.html#a111cfd1411d6d7dc1338315274a0c25c">Rang</a> * Rs;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#af1815f046b4a8c1357b908ba93bb43dc">  114</a></span>&#160;    <a class="code" href="quaterniondemo_8m.html#af1815f046b4a8c1357b908ba93bb43dc">Omega</a>(:,:,<a class="code" href="quaterniondemo_8m.html#a28e93a13d0a70eae40e654e1c021d048">it</a>)   = <a class="code" href="quaterniondemo_8m.html#a6ca93d6aa561460b8a250731b00a3203">DCMin</a> *( <a class="code" href="quaterniondemo_8m.html#ae21e1438a14548d0d1b2d7383dc08b29">omegap</a> * dRp * <a class="code" href="quaterniondemo_8m.html#a111cfd1411d6d7dc1338315274a0c25c">Rang</a> * Rs + ...</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                               <a class="code" href="quaterniondemo_8m.html#af44e63a6428dab621e47f6a0f08e3ed0">omegas</a> * Rp * <a class="code" href="quaterniondemo_8m.html#a111cfd1411d6d7dc1338315274a0c25c">Rang</a> * dRs );</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<a class="code" href="quaternion_8m.html#aa402a2cb92604beb8c28c8507cc06036">end</a></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<a class="code" href="quaternion_8m.html#aa402a2cb92604beb8c28c8507cc06036">end</a> % spinprecess</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="keyword">function</span> [R, dR] = rodrigues( <a class="code" href="quaterniondemo_8m.html#af6d305c8303160337527f09d7d35a3ea">u</a>, <a class="code" href="quaterniondemo_8m.html#aebf487f5d315cb61f0bd86455edff1fd">theta</a> )</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;% <span class="keyword">function</span> [R, dR] = rodrigues( <a class="code" href="quaterniondemo_8m.html#af6d305c8303160337527f09d7d35a3ea">u</a>, <a class="code" href="quaterniondemo_8m.html#aebf487f5d315cb61f0bd86455edff1fd">theta</a> )</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;% Computes rotation matrix (Direction Cosine <a class="code" href="quaterniondemo_8m.html#aa9c769926e9c9151630a9cfc6003caf6">Matrix</a>) from Rodrigues<span class="stringliteral">&#39;</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="stringliteral">% rotation formula. See http://mathworld.wolfram.com/RodriguesRotationFormula.html</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="stringliteral">% Inputs:</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="stringliteral">%  u(3)     fixed axis of rotation</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="stringliteral">%  theta    rotation angle in radians</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="stringliteral">% Outputs:</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="stringliteral">%  R(3,3)   rotation matrix</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="stringliteral">%  dR(3,3)  differential of R</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="stringliteral">% Application:</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="stringliteral">%  x_rot = R * x (where x is a 3 element column vector)</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="stringliteral">%  v_rot = omega * dR * x (where omega is d(theta)/dt)</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="stringliteral">% Authors:</span></div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a699355fabaddc23cb5636ebddeedb477">  133</a></span>&#160;<span class="stringliteral">%  Douglas Lanman, Mark Tincknell, MIT LL, 8 August 2003</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#af6d305c8303160337527f09d7d35a3ea">  135</a></span>&#160;<span class="stringliteral">% Normalize u (fixed-axis of rotation)</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="stringliteral">u   = u/norm(u);</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="stringliteral">% Skew-symmetric matrix W</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="stringliteral">W   = [ 0    -u(3)  u(2);</span></div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a355ad5f60959b633112d42d0b84bfa83">  140</a></span>&#160;<span class="stringliteral">        u(3)  0    -u(1);</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="stringliteral">       -u(2)  u(1)  0];</span></div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#af12372bfeb0cbea1052617fd3e4d6f8c">  142</a></span>&#160;<span class="stringliteral">W2  = W^2;</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="stringliteral">% Trig functions</span></div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a66373340318be415af0788c3980214e2">  145</a></span>&#160;<span class="stringliteral">sth = sin( theta );</span></div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a1de508197528a78b4e755ba4d300560d">  146</a></span>&#160;<span class="stringliteral">cth = cos( theta );</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#a9dbb413808557fe854dab48620fff64f">  148</a></span>&#160;<span class="stringliteral">% Rotation matrix R, differential rotation matrix dR</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="stringliteral">R   = eye(3) + sth * W + (1 - cth) * W2;</span></div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="quaterniondemo_8m.html#ace29f08016c7228bb3ed06514c3a072f">  150</a></span>&#160;<span class="stringliteral">dR  = cth * W + sth * W2;</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="stringliteral">end % rodrigues</span></div>
<div class="ttc" id="adata__visualization_8m_html_a0d64e5f8b32a324fa37e000d6284dd55"><div class="ttname"><a href="data__visualization_8m.html#a0d64e5f8b32a324fa37e000d6284dd55">time</a></div><div class="ttdeci">end vs time</div><div class="ttdef"><b>Definition:</b> <a href="data__visualization_8m_source.html#l00034">data_visualization.m:34</a></div></div>
<div class="ttc" id="adata__visualization_8m_html_ac16124024fb4d9a073240af2d6b11271"><div class="ttname"><a href="data__visualization_8m.html#ac16124024fb4d9a073240af2d6b11271">plot</a></div><div class="ttdeci">end plot(asset.(assetname).(1),(asset.(assetname).(j+1))) hold on end title(assetname</div></div>
<div class="ttc" id="aearth__sphere_8m_html_a6cdf78e3a2d501c08576c021a01594f6"><div class="ttname"><a href="earth__sphere_8m.html#a6cdf78e3a2d501c08576c021a01594f6">x</a></div><div class="ttdeci">nautical and astronomical units respectively EARTH_SPHERE(AX,...) plots into AX instead of GCA. % % Examples z produces the Earth in miles on axis h1 and plots a trajectory from variables x</div><div class="ttdef"><b>Definition:</b> <a href="earth__sphere_8m_source.html#l00031">earth_sphere.m:31</a></div></div>
<div class="ttc" id="aeomcode_8m_html_ac4055e3a20b6b3af3d10590ea446ef6c"><div class="ttname"><a href="eomcode_8m.html#ac4055e3a20b6b3af3d10590ea446ef6c">v</a></div><div class="ttdeci">v</div><div class="ttdef"><b>Definition:</b> <a href="eomcode_8m_source.html#l00003">eomcode.m:3</a></div></div>
<div class="ttc" id="aorbits_8m_html_a21e278f86d779491649057a8f8ef3d49"><div class="ttname"><a href="orbits_8m.html#a21e278f86d779491649057a8f8ef3d49">a</a></div><div class="ttdeci">else Orbital elements a</div><div class="ttdef"><b>Definition:</b> <a href="orbits_8m_source.html#l00180">orbits.m:180</a></div></div>
<div class="ttc" id="aorbits_8m_html_a67b66d3bc79a909dd67b9efa6f3688cd"><div class="ttname"><a href="orbits_8m.html#a67b66d3bc79a909dd67b9efa6f3688cd">nargin</a></div><div class="ttdeci">=0 nargin</div><div class="ttdef"><b>Definition:</b> <a href="orbits_8m_source.html#l00026">orbits.m:26</a></div></div>
<div class="ttc" id="aquaternion_8m_html_a16d5d24f5b09a1991bd4e5f57bf11237"><div class="ttname"><a href="quaternion_8m.html#a16d5d24f5b09a1991bd4e5f57bf11237">pi</a></div><div class="ttdeci">pi</div><div class="ttdef"><b>Definition:</b> <a href="quaternion_8m_source.html#l00855">quaternion.m:855</a></div></div>
<div class="ttc" id="aquaternion_8m_html_a39dc0e89db6b09e2fd5f48814cb285ec"><div class="ttname"><a href="quaternion_8m.html#a39dc0e89db6b09e2fd5f48814cb285ec">quaternion</a></div><div class="ttdeci">classdef quaternion classdef quaternion</div><div class="ttdef"><b>Definition:</b> <a href="quaternion_8m_source.html#l00002">quaternion.m:2</a></div></div>
<div class="ttc" id="aquaternion_8m_html_a511d4521bfdbaa2d14c30b314d6c49d6"><div class="ttname"><a href="quaternion_8m.html#a511d4521bfdbaa2d14c30b314d6c49d6">element</a></div><div class="ttdeci">keep real element</div><div class="ttdef"><b>Definition:</b> <a href="quaternion_8m_source.html#l01552">quaternion.m:1552</a></div></div>
<div class="ttc" id="aquaternion_8m_html_a5c8f1302c67bd5e47f0292d4f508af9d"><div class="ttname"><a href="quaternion_8m.html#a5c8f1302c67bd5e47f0292d4f508af9d">array</a></div><div class="ttdeci">end chop permute ain to make it first data array</div><div class="ttdef"><b>Definition:</b> <a href="quaternion_8m_source.html#l02579">quaternion.m:2579</a></div></div>
<div class="ttc" id="aquaternion_8m_html_a7eeb1a631e93e2e6afc94022dbbcd66a"><div class="ttname"><a href="quaternion_8m.html#a7eeb1a631e93e2e6afc94022dbbcd66a">is</a></div><div class="ttdeci">for is</div><div class="ttdef"><b>Definition:</b> <a href="quaternion_8m_source.html#l00379">quaternion.m:379</a></div></div>
<div class="ttc" id="aquaternion_8m_html_aa402a2cb92604beb8c28c8507cc06036"><div class="ttname"><a href="quaternion_8m.html#aa402a2cb92604beb8c28c8507cc06036">end</a></div><div class="ttdeci">end[q, n]</div><div class="ttdef"><b>Definition:</b> <a href="quaternion_8m_source.html#l01254">quaternion.m:1255</a></div></div>
<div class="ttc" id="aquaternion_8m_html_ab6971d02bd34c9866ba696029ed87744"><div class="ttname"><a href="quaternion_8m.html#ab6971d02bd34c9866ba696029ed87744">length</a></div><div class="ttdeci">if use first dimension of length</div><div class="ttdef"><b>Definition:</b> <a href="quaternion_8m_source.html#l02620">quaternion.m:2620</a></div></div>
<div class="ttc" id="aquaternion_8m_html_acf39907891ddfd2d369d69003aa1c96c"><div class="ttname"><a href="quaternion_8m.html#acf39907891ddfd2d369d69003aa1c96c">axis</a></div><div class="ttdeci">axis</div><div class="ttdef"><b>Definition:</b> <a href="quaternion_8m_source.html#l01250">quaternion.m:1250</a></div></div>
<div class="ttc" id="aquaterniondemo2_8m_html_a8e26193a61ad56de094f9e2ffff000ee"><div class="ttname"><a href="quaterniondemo2_8m.html#a8e26193a61ad56de094f9e2ffff000ee">s</a></div><div class="ttdeci">rad s</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo2_8m_source.html#l00010">quaterniondemo2.m:10</a></div></div>
<div class="ttc" id="aquaterniondemo2_8m_html_ac5645f9080f10b37b07e59345fc6d8d5"><div class="ttname"><a href="quaterniondemo2_8m.html#ac5645f9080f10b37b07e59345fc6d8d5">times</a></div><div class="ttdeci">initial orientation(x axis is RV symmetry axis) t=0 sample times[q1, w1, t1]</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo2_8m_source.html#l00012">quaterniondemo2.m:14</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a111cfd1411d6d7dc1338315274a0c25c"><div class="ttname"><a href="quaterniondemo_8m.html#a111cfd1411d6d7dc1338315274a0c25c">Rang</a></div><div class="ttdeci">Rang</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00107">quaterniondemo.m:107</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a1d83616d443a184b09d0eb708c44aed5"><div class="ttname"><a href="quaterniondemo_8m.html#a1d83616d443a184b09d0eb708c44aed5">sap</a></div><div class="ttdeci">function sap</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00002">quaterniondemo.m:2</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a28e93a13d0a70eae40e654e1c021d048"><div class="ttname"><a href="quaterniondemo_8m.html#a28e93a13d0a70eae40e654e1c021d048">it</a></div><div class="ttdeci">precession for it</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00110">quaterniondemo.m:110</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a32c430299c9c0c82c43a9c3b2006df25"><div class="ttname"><a href="quaterniondemo_8m.html#a32c430299c9c0c82c43a9c3b2006df25">pause</a></div><div class="ttdeci">if interval pause(interval)</div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a36cd1b01a7925d97ee1dcab31b640f94"><div class="ttname"><a href="quaterniondemo_8m.html#a36cd1b01a7925d97ee1dcab31b640f94">zlabel</a></div><div class="ttdeci">zlabel( 'z')</div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a38bb4600f75c7c4e6f38de034343deef"><div class="ttname"><a href="quaterniondemo_8m.html#a38bb4600f75c7c4e6f38de034343deef">angle</a></div><div class="ttdeci">function interval quaternion compare numerical and analytical rotational motion solutions precession cone half angle(rad)</div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a4e22223cce6cd87a8eb1b271ab21c639"><div class="ttname"><a href="quaterniondemo_8m.html#a4e22223cce6cd87a8eb1b271ab21c639">or</a></div><div class="ttdeci">or</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00057">quaterniondemo.m:57</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a4e263293c4235ceb5bc29427040cf530"><div class="ttname"><a href="quaterniondemo_8m.html#a4e263293c4235ceb5bc29427040cf530">iel</a></div><div class="ttdeci">for iel</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00061">quaterniondemo.m:61</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a5aa39588d65aff5cf8c7488e655a3eb5"><div class="ttname"><a href="quaterniondemo_8m.html#a5aa39588d65aff5cf8c7488e655a3eb5">demo</a></div><div class="ttdeci">function interval quaternion demo</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00003">quaterniondemo.m:3</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a5aae46aef8d0821441e8f67df3386857"><div class="ttname"><a href="quaterniondemo_8m.html#a5aae46aef8d0821441e8f67df3386857">DCMout</a></div><div class="ttdeci">DCMout(:,:, it)</div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a5bd451eae04d0c4a286638438e115a12"><div class="ttname"><a href="quaterniondemo_8m.html#a5bd451eae04d0c4a286638438e115a12">DCM</a></div><div class="ttdeci">DCM</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00043">quaterniondemo.m:43</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a634dc19fe9786c114f34462f4ad524fa"><div class="ttname"><a href="quaterniondemo_8m.html#a634dc19fe9786c114f34462f4ad524fa">quaterniondemo</a></div><div class="ttdeci">function quaterniondemo(time, sap, DCMin, interval) % function quaterniondemo(time</div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a63f26d1ba4b40e4ca6b2e9a44a733023"><div class="ttname"><a href="quaterniondemo_8m.html#a63f26d1ba4b40e4ca6b2e9a44a733023">Matrices</a></div><div class="ttdeci">end quaterniondemo function interval Plot rotation axes for a series of Direction Cosine Matrices</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00051">quaterniondemo.m:51</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a660496f631fd03a1152ae925658150d6"><div class="ttname"><a href="quaterniondemo_8m.html#a660496f631fd03a1152ae925658150d6">xlabel</a></div><div class="ttdeci">xlabel( 'x')</div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a6ca93d6aa561460b8a250731b00a3203"><div class="ttname"><a href="quaterniondemo_8m.html#a6ca93d6aa561460b8a250731b00a3203">DCMin</a></div><div class="ttdeci">function DCMin</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00002">quaterniondemo.m:2</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a6ffb6527eb0b23a06da7927c0d4a6bdd"><div class="ttname"><a href="quaterniondemo_8m.html#a6ffb6527eb0b23a06da7927c0d4a6bdd">nt</a></div><div class="ttdeci">end nt</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00106">quaterniondemo.m:106</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a7f030b42c6a0d1933e66ddd5d95735a1"><div class="ttname"><a href="quaterniondemo_8m.html#a7f030b42c6a0d1933e66ddd5d95735a1">alx</a></div><div class="ttdeci">alx</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00059">quaterniondemo.m:59</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a89762092435adc69c1110fd0ddc4b3e9"><div class="ttname"><a href="quaterniondemo_8m.html#a89762092435adc69c1110fd0ddc4b3e9">plotRotation</a></div><div class="ttdeci">plotRotation(DCM, interval)</div></div>
<div class="ttc" id="aquaterniondemo_8m_html_a8fa675eb2fcec5b95d9d21c670da7f30"><div class="ttname"><a href="quaterniondemo_8m.html#a8fa675eb2fcec5b95d9d21c670da7f30">ax</a></div><div class="ttdeci">ax</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00058">quaterniondemo.m:58</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_aa9c769926e9c9151630a9cfc6003caf6"><div class="ttname"><a href="quaterniondemo_8m.html#aa9c769926e9c9151630a9cfc6003caf6">Matrix</a></div><div class="ttdeci">function interval quaternion compare numerical and analytical rotational motion solutions precession cone half precession initial Direction Cosine Matrix</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00009">quaterniondemo.m:9</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_aafa403f68d9af275a0c36d210019f8b8"><div class="ttname"><a href="quaterniondemo_8m.html#aafa403f68d9af275a0c36d210019f8b8">ylabel</a></div><div class="ttdeci">ylabel( 'y')</div></div>
<div class="ttc" id="aquaterniondemo_8m_html_ab61b31944f43c46f56148b848c9e6427"><div class="ttname"><a href="quaterniondemo_8m.html#ab61b31944f43c46f56148b848c9e6427">Inputs</a></div><div class="ttdeci">function interval quaternion compare numerical and analytical rotational motion solutions Inputs</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00005">quaterniondemo.m:7</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_ad809abcf4d5f5036e678789663f40626"><div class="ttname"><a href="quaterniondemo_8m.html#ad809abcf4d5f5036e678789663f40626">plot3</a></div><div class="ttdeci">plot3([or;ax(1,:)], [or ;ax(2,:)], [or;ax(3,:)], ':')</div></div>
<div class="ttc" id="aquaterniondemo_8m_html_ae21e1438a14548d0d1b2d7383dc08b29"><div class="ttname"><a href="quaterniondemo_8m.html#ae21e1438a14548d0d1b2d7383dc08b29">omegap</a></div><div class="ttdeci">spin omegap</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00109">quaterniondemo.m:109</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_aebf487f5d315cb61f0bd86455edff1fd"><div class="ttname"><a href="quaterniondemo_8m.html#aebf487f5d315cb61f0bd86455edff1fd">theta</a></div><div class="ttdeci">theta</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00026">quaterniondemo.m:26</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_aec1ab2ac634fc2a27c2014d1d1dd61d6"><div class="ttname"><a href="quaterniondemo_8m.html#aec1ab2ac634fc2a27c2014d1d1dd61d6">nax</a></div><div class="ttdeci">grid on nax</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00070">quaterniondemo.m:70</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_af1815f046b4a8c1357b908ba93bb43dc"><div class="ttname"><a href="quaterniondemo_8m.html#af1815f046b4a8c1357b908ba93bb43dc">Omega</a></div><div class="ttdeci">Omega(:,:, it)</div></div>
<div class="ttc" id="aquaterniondemo_8m_html_af44e63a6428dab621e47f6a0f08e3ed0"><div class="ttname"><a href="quaterniondemo_8m.html#af44e63a6428dab621e47f6a0f08e3ed0">omegas</a></div><div class="ttdeci">precession cone angle omegas</div><div class="ttdef"><b>Definition:</b> <a href="quaterniondemo_8m_source.html#l00108">quaterniondemo.m:108</a></div></div>
<div class="ttc" id="aquaterniondemo_8m_html_af6d305c8303160337527f09d7d35a3ea"><div class="ttname"><a href="quaterniondemo_8m.html#af6d305c8303160337527f09d7d35a3ea">u</a></div><div class="ttdeci">end end spinprecess Mark MIT August Normalize u(fixed-axis of rotation) u</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d522931ffa1371640980b621734a4381.html">Users</a></li><li class="navelem"><a class="el" href="dir_c02b4a86bb4831db244c44b4af155b50.html">tdroz</a></li><li class="navelem"><a class="el" href="dir_05aee6e347f2d8b72d4bd6ca46d3bef3.html">Dropbox (Personal)</a></li><li class="navelem"><a class="el" href="dir_6342e6972a83c31b0f3c34ba33d7345b.html">tdroz</a></li><li class="navelem"><a class="el" href="dir_a08ee3f1584e6ae3307988b08bffaf21.html">Documents</a></li><li class="navelem"><a class="el" href="dir_d2bfa8e80e02176fe70bf27a1abfa355.html">GitHub</a></li><li class="navelem"><a class="el" href="dir_9eb6912f7c32c2681703281f59b949bb.html">antennachanges</a></li><li class="navelem"><a class="el" href="dir_31615d457f6059ed782178525d77155f.html">Matlab</a></li><li class="navelem"><a class="el" href="dir_3af16a16957cb264ab75050ddc1b2a69.html">Matlab</a></li><li class="navelem"><a class="el" href="dir_dec2e6eea28273086ddb1b225c8faf67.html">quat</a></li><li class="navelem"><a class="el" href="quaterniondemo_8m.html">quaterniondemo.m</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
